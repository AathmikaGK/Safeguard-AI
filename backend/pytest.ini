testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

addopts = 
    -v                          # Verbose output
    --strict-markers            # Ensure all markers are defined
    --tb=short                  # Shorter traceback format
    --cov=app                   # Measure coverage of 'app' package
    --cov-report=term-missing   # Show missing lines in terminal
    --cov-report=html           # Generate HTML coverage report
    --cov-fail-under=80         # Fail if coverage < 80%

markers =
    unit: Unit tests (fast, no external dependencies)
    integration: Integration tests (may call external services)
    slow: Slow tests (skip with -m "not slow")

asyncio_mode = auto